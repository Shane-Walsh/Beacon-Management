# Beacon Management App

## Overview

MEAN stack CRUD application developed as part of a college project to demonstrate testing, code coverage and automated deployment.  

The objective of this web app is to manage Bluetooth beacons along with their 
associated products and digital vouchers.

## Technologies

* Node.js
* Angular.js
* Express Server
* MongoDB
* Mocha Chai
* Travis CI
* Coveralls code coverage

## Prerequisites

* Node      - https://nodejs.org
* NPM       - Packaged with NodeJS
* MongoDB   - https://www.mongodb.com

## To run locally

            $npm install
            $node bin/www

Check browser at:

            localhost:3000

## Deployment

Deployed on Heroku at:

 http://beacon-mgmt.herokuapp.com

## Environment

--dependencies


    -body-parser: 1.18.2
    -cookie-parser: 1.4.3
    -debug: 2.6.9
    -ejs: 2.5.7
    -express: 4.15.5
    -morgan: 1.9.0
    -mongodb: 2.0
    -mongoose: 4.12.3
    -serve-favicon: 2.4.5
  
 --devDependencies
  
  
    -chai: 3.5.0
    -chai-http: 2.0.1
    -chai-things: 0.2.0
    -babel-core: 6.14.0
    -babel-loader: 6.4.1
    -clean-webpack-plugin: 0.1.17
    -coveralls: 2.13.1
    -cross-env: 5.1.1
    -css-loader: 0.24.0
    -eslint: 4.1.1
    -eslint-plugin-json: 1.2.0
    -eslint-watch: 3.1.3
    -extract-text-webpack-plugin: 1.0.1
    -file-loader: 0.9.0
    -html-webpack-plugin: 2.30.1
    -istanbul: 0.4.5
    -live-reload: 1.1.0
    -nodemon: 1.12.1
    -npm-run-all: 4.1.1
    -rimraf: 2.6.2
    -style-loader: 0.13.1
    -url-loader: 0.5.9
    -mocha: 3.4.2
    -webpack: 1.15.0
    -selenium-webdriver: 3.3.0


## Build Automation 

        $ node bin/www                         - run app

        $ npm run test                         - run API testing

        $ mocha test/acceptance                - run Acceptance testing

        $ npm run coverage                     - run API testing with coverage report

        $ sudo git push origin master     - push to github repo -> Travis-CI -> Auto deploy to Heroku


## Acceptance Testing
Dashboard
![dashboard](https://user-images.githubusercontent.com/20372577/33910698-8f84f104-df87-11e7-940c-828aa1afe1d9.png)
![dasboard-test](https://user-images.githubusercontent.com/20372577/33910704-98ab5246-df87-11e7-9e7d-8ef845627c15.png)


        test/acceptance/dashboardPage-test.js
        
        
Beacons List Page
![beacon list](https://user-images.githubusercontent.com/20372577/33910710-9ec7d294-df87-11e7-9470-2038df7a9cb0.png)
![beaconlist-test](https://user-images.githubusercontent.com/20372577/33910725-a91b301a-df87-11e7-84f0-fb020753e306.png)


         test/acceptance/beaconsPage-test.js
         
Add Beacon Page
![newbeacon](https://user-images.githubusercontent.com/20372577/33910744-bbb6f466-df87-11e7-9dc5-c59524f850ba.png)
![newbeacontest](https://user-images.githubusercontent.com/20372577/33910754-c4968240-df87-11e7-92d6-064874353b4c.png)


         test/acceptance/newBeaconPage-test.js

Home Page
![home](https://user-images.githubusercontent.com/20372577/33910735-b092bfac-df87-11e7-88ba-8445f0d3a52a.png)
![home-test](https://user-images.githubusercontent.com/20372577/33910732-ae2953a2-df87-11e7-9ea4-b8c7d61b3187.png)


          test/acceptance/homePage-test.js
          
     
Products Page     
![products](https://user-images.githubusercontent.com/20372577/33910765-cb7f7cec-df87-11e7-8c3d-0055702ba40b.png)
![products-test](https://user-images.githubusercontent.com/20372577/33910761-c94fd426-df87-11e7-9251-ef17ae7f2b98.png)


            test/acceptance/productsPage-test.js

Voucher Page
![voucherspage](https://user-images.githubusercontent.com/20372577/33910810-e591381e-df87-11e7-802f-ee3077a0dbb6.png)
![vocuhers](https://user-images.githubusercontent.com/20372577/33910789-d544e3a2-df87-11e7-8db7-378296e65ce5.png)


            test/acceptance/vouchersPage-test.js
            
            
## Continuous Integration

- Travis CI


https://travis-ci.org/Shane-Walsh/Beacon-Management-Web-App


Pushing to Guthub triggers Travis-CI automatically


        $ sudo git push origin development     - push to github repo -> Travis-CI


- Coveralls 


https://coveralls.io/github/Shane-Walsh/Beacon-Management-Web-App



Automated coverage reporting generated by coveralls.io 



## Automated Deployment 

http://beacon-mgmt.herokuapp.com/



travis.yml file->


        deploy:
          provider: heroku
          api_key: "API_Key"
          app: beacon-mgmt
          on: development
  
  

Pushing to Guthub triggers Travis-CI which in turn auto deploys to Heroku 



        $ sudo git push origin development     - push to github repo -> Travis-CI -> Auto deploy to Heroku 



## References 

REF: Agile Software Practices course material lab 6 - 12


REF: SSD4 Web App Dev course material lab 2 + 3


https://ddrohan.github.io/wit-wad/topic02-node/book-b-lab02/index.html#/06


REF: http://mongoosejs.com/docs/queries.html


REF: https://stackoverflow.com/questions/42541791/how-do-i-perform-a-find-query-in-mongoose


REF: https://docs.mongodb.com/v3.2/reference/method/db.collection.findOneAndUpdate/


REF: http://snipref.com/uncategorized/mongoose-js-find-with-regex/


REF:https://stackoverflow.com/questions/45736636/mongoose-remove-a-entire-object-from-a-nested-array


REF: https://scotch.io/tutorials/using-mongoosejs-in-node-js-and-mongodb-applications


REF: https://alexanderzeitler.com/articles/mongoose-referencing-schema-in-properties-and-arrays/


REF: https://developer.mozilla.org/en-US/docs/Learn/Server-side/Express_Nodejs/mongoose


REF: SSD4 Agile S/W Practice course material Lab 6 API testing


REF: https://www.terlici.com/2014/09/15/node-testing.html


REF: https://github.com/JavaTheNutt/web_app_dev_project_backend/tree/master/test


REF: https://www.sitepoint.com/sinon-tutorial-javascript-testing-mocks-spies-stubs/


REF: https://groundberry.github.io/development/2016/12/10/testing-express-with-mocha-and-chai.html


REF: http://chaijs.com/api/bdd/


REF: http://mherman.org/blog/2015/09/10/testing-node-js-with-mocha-and-chai/#.Wf3v42-7WRt


REF: https://mochajs.org


REF: https://gist.github.com/yoavniran/1e3b0162e1545055429e#mocha


REF: https://stackoverflow.com/questions/40309713/how-to-send-query-string-parameters-using-supertest


REF: https://stackoverflow.com/questions/37129668/how-to-write-post-request-to-node-js-server-using-mocha-and-what-are-the-js-need


REF: https://seleniumhq.github.io/selenium/docs/api/javascript/module/selenium-webdriver/


REF: https://github.com/SeleniumHQ/selenium/wiki/WebDriverJs


REF: http://webdriver.io


REF: https://code.tutsplus.com/tutorials/an-introduction-to-webdriver-using-the-javascript-bindings--cms-21855


REF: https://blog.testproject.io/2017/06/07/javascript-testing-with-selenium-webdriver-mocha/
